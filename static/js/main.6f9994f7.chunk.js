(this["webpackJsonpblog-frontend"]=this["webpackJsonpblog-frontend"]||[]).push([[0],{101:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),o=t(30),c=t.n(o),u=(t(71),t(22)),i=t(8),l=t(2),s=t(3),m=t(12),b=t(64);function d(){var e=Object(l.a)(["\n  padding-left: 1rem;\n  padding-right: 1rem;\n  width: 1024px;\n  margin: 0 auto; /* \uc911\uc559 \uc815\ub82c */\n\n  /* \ube0c\ub77c\uc6b0\uc800 \ud06c\uae30\uc5d0 \ub530\ub77c \uac00\ub85c \uc0ac\uc774\uc988 \ubcc0\uacbd */\n  @media (max-width: 1024px) {\n    width: 768px;\n  }\n  @media (max-width: 768px) {\n    width: 100%;\n  }\n"]);return d=function(){return e},e}var f=s.b.div(d()),g=function(e){var n=e.children,t=Object(b.a)(e,["children"]);return a.a.createElement(f,t,n)},p={gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],magenta:["#8b008b","#9932cc","#8a2be2 "]};function v(){var e=Object(l.a)(["\n  ","\n"]);return v=function(){return e},e}function O(){var e=Object(l.a)(["\n  ","\n"]);return O=function(){return e},e}function j(){var e=Object(l.a)(["\n      background: ",";\n      &:hover {\n        background: ",";\n      }\n    "]);return j=function(){return e},e}function E(){var e=Object(l.a)(["\n      padding-top: 0.75rem;\n      padding-bottom: 0.75rem;\n      width: 100%;\n      font-size: 1.125rem;\n    "]);return E=function(){return e},e}function h(){var e=Object(l.a)(["\n  border: none;\n  border-radius: 4px;\n  font-size: 1rem;\n  font-weight: bold;\n  padding: 0.25rem 1rem;\n  color: white;\n  outline: none;\n  cursor: pointer;\n\n  background: ",";\n  &:hover {\n    background: ",";\n  }\n\n  ","\n\n  ","\n\n    &:disabled {\n    background: ",";\n    color: ",";\n    cursor: not-allowed;\n  }\n"]);return h=function(){return e},e}var y=Object(s.a)(h(),p.gray[8],p.gray[6],(function(e){return e.fullWidth&&Object(s.a)(E())}),(function(e){return e.cyan&&Object(s.a)(j(),p.magenta[0],p.magenta[1])}),p.gray[3],p.gray[5]),x=s.b.button(O(),y),w=Object(s.b)(m.b)(v(),y),k=function(e){return e.to?a.a.createElement(w,Object.assign({},e,{cyan:e.cyan?1:0})):a.a.createElement(x,e)};function C(){var e=Object(l.a)(["\n  font-weight: 800;\n  margin-right: 1rem;\n"]);return C=function(){return e},e}function S(){var e=Object(l.a)(["\n  height: 4rem;\n"]);return S=function(){return e},e}function I(){var e=Object(l.a)(["\n  height: 4rem;\n  display: flex;\n  align-items: center;\n  justify-content: space-between; /* \uc790\uc2dd \uc5d8\ub9ac\uba3c\ud2b8 \uc0ac\uc774\uc5d0 \uc5ec\ubc31\uc744 \ucd5c\ub300\ub85c \uc124\uc815 */\n  .logo {\n    font-size: 1.125rem;\n    font-weight: 800;\n    letter-spacing: 2px;\n  }\n  .right {\n    display: flex;\n    align-items: center;\n  }\n"]);return I=function(){return e},e}function T(){var e=Object(l.a)(["\n  position: fixed;\n  width: 100%;\n  background: white;\n  box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.08);\n"]);return T=function(){return e},e}var P,N,R=s.b.div(T()),_=Object(s.b)(g)(I()),D=s.b.div(S()),L=s.b.div(C()),A=function(e){var n=e.user,t=e.onLogout;return a.a.createElement(a.a.Fragment,null,a.a.createElement(R,null,a.a.createElement(_,null,a.a.createElement(m.b,{to:"/",className:"logo"},"WINEUS"),a.a.createElement(m.b,null,"\uace0\uac1d \uad6c\ub9e4 \uad00\ub9ac"),n?a.a.createElement("div",{className:"right"},a.a.createElement(L,null,n.username),a.a.createElement(k,{onClick:t},"\ub85c\uadf8\uc544\uc6c3")):a.a.createElement("div",{className:"right"},a.a.createElement(k,{to:"/login"},"\ub85c\uadf8\uc778")))),a.a.createElement(D,null))},U=t(5),z=t(4),M=t(9),B=t.n(M),F=t(11),W=t(103),G=t(102),H=t(13),q=t(57),J=t.n(q).a.create(),Q=function(){return J.post("/api/auth/logout")},Z="loading/START_LOADING",$="loading/FINISH_LOADING",K=Object(W.a)(Z,(function(e){return e})),V=Object(W.a)($,(function(e){return e})),X=Object(G.a)((P={},Object(U.a)(P,Z,(function(e,n){return Object(z.a)(Object(z.a)({},e),{},Object(U.a)({},n.payload,!0))})),Object(U.a)(P,$,(function(e,n){return Object(z.a)(Object(z.a)({},e),{},Object(U.a)({},n.payload,!1))})),P),{}),Y=function(e){return[e,"".concat(e,"_SUCCESS"),"".concat(e,"_FAILURE")]};function ee(e,n){var t="".concat(e,"_SUCCESS"),r="".concat(e,"_FAILURE");return B.a.mark((function a(o){var c;return B.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(H.c)(K(e));case 2:return a.prev=2,a.next=5,Object(H.b)(n,o.payload);case 5:return c=a.sent,a.next=8,Object(H.c)({type:t,payload:c.data,meta:c});case 8:a.next=14;break;case 10:return a.prev=10,a.t0=a.catch(2),a.next=14,Object(H.c)({type:r,payload:a.t0,error:!0});case 14:return a.next=16,Object(H.c)(V(e));case 16:case"end":return a.stop()}}),a,null,[[2,10]])}))}var ne=B.a.mark(ge),te=B.a.mark(pe),re="user/TEMP_SET_USER",ae=Y("user/CHECK"),oe=Object(F.a)(ae,3),ce=oe[0],ue=oe[1],ie=oe[2],le="user/LOGOUT",se=Object(W.a)(re,(function(e){return e})),me=Object(W.a)(ce),be=Object(W.a)(le),de=ee(ce,(function(){return J.get("/api/auth/check")}));function fe(){try{localStorage.removeItem("user")}catch(e){console.log("localStorage is not working")}}function ge(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(H.b)(Q);case 3:localStorage.removeItem("user"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),ne,null,[[0,6]])}function pe(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(H.d)(ce,de);case 2:return e.next=4,Object(H.d)(ie,fe);case 4:return e.next=6,Object(H.d)(le,ge);case 6:case"end":return e.stop()}}),te)}var ve=Object(G.a)((N={},Object(U.a)(N,re,(function(e,n){var t=n.payload;return Object(z.a)(Object(z.a)({},e),{},{user:t})})),Object(U.a)(N,ue,(function(e,n){var t=n.payload;return Object(z.a)(Object(z.a)({},e),{},{user:t,checkError:null})})),Object(U.a)(N,ie,(function(e,n){var t=n.payload;return Object(z.a)(Object(z.a)({},e),{},{user:null,checkError:t})})),Object(U.a)(N,le,(function(e){return Object(z.a)(Object(z.a)({},e),{},{user:null})})),N),{user:null,checkError:null}),Oe=function(){var e=Object(i.c)((function(e){return{user:e.user.user}})).user,n=Object(i.b)();return a.a.createElement(A,{user:e,onLogout:function(){n(be())}})},je=t(15),Ee=t.n(je);function he(){var e=Object(l.a)(["\n      margin-top: 1rem;\n    "]);return he=function(){return e},e}function ye(){var e=Object(l.a)(["\n  ","\n  color: ",";\n\n  /* span \uc0ac\uc774\uc5d0 \uac00\uc6b4\ub383\uc810 \ubb38\uc790 \ubcf4\uc5ec\uc8fc\uae30*/\n  span + span:before {\n    color: ",";\n    padding-left: 0.25rem;\n    padding-right: 0.25rem;\n    content: '\\B7'; /* \uac00\uc6b4\ub383\uc810 \ubb38\uc790 */\n  }\n"],["\n  ","\n  color: ",";\n\n  /* span \uc0ac\uc774\uc5d0 \uac00\uc6b4\ub383\uc810 \ubb38\uc790 \ubcf4\uc5ec\uc8fc\uae30*/\n  span + span:before {\n    color: ",";\n    padding-left: 0.25rem;\n    padding-right: 0.25rem;\n    content: '\\\\B7'; /* \uac00\uc6b4\ub383\uc810 \ubb38\uc790 */\n  }\n"]);return ye=function(){return e},e}var xe=s.b.div(ye(),(function(e){return e.hasMarginTop&&Object(s.a)(he())}),p.gray[6],p.gray[4]),we=function(e){var n=e.username,t=e.publishedDate,r=e.hasMarginTop;return a.a.createElement(xe,{hasMarginTop:r},a.a.createElement("span",null,a.a.createElement("b",null,a.a.createElement(m.b,{to:"/@".concat(n)},n))),a.a.createElement("span",null,new Date(t).toLocaleDateString()))};function ke(){var e=Object(l.a)(["\n  margin-top: 0.5rem;\n  .tag {\n    display: inline-block;\n    color: ",";\n    text-decoration: none;\n    margin-right: 0.5rem;\n    &:hover {\n      color: ",";\n    }\n  }\n"]);return ke=function(){return e},e}var Ce=s.b.div(ke(),p.cyan[7],p.cyan[6]),Se=function(e){var n=e.tags;return a.a.createElement(Ce,null,n.map((function(e){return a.a.createElement(m.b,{className:"tag",to:"/?tag=".concat(e),key:e},"#",e)})))};function Ie(){var e=Object(l.a)(["\n  padding-top: 3rem;\n  padding-bottom: 3rem;\n  /* \ub9e8 \uc704 \ud3ec\uc2a4\ud2b8\ub294 padding-top \uc5c6\uc74c */\n  &:first-child {\n    padding-top: 0;\n  }\n  & + & {\n    border-top: 1px solid ",";\n  }\n\n  h2 {\n    font-size: 2rem;\n    margin-bottom: 0;\n    margin-top: 0;\n    &:hover {\n      color: ",";\n    }\n  }\n  p {\n    margin-top: 2rem;\n  }\n"]);return Ie=function(){return e},e}function Te(){var e=Object(l.a)(["\n  display: flex;\n  justify-content: flex-end;\n  margin-bottom: 3rem;\n"]);return Te=function(){return e},e}function Pe(){var e=Object(l.a)(["\n  margin-top: 3rem;\n"]);return Pe=function(){return e},e}var Ne,Re=Object(s.b)(g)(Pe()),_e=s.b.div(Te()),De=s.b.div(Ie(),p.gray[2],p.gray[6]),Le=function(e){var n=e.post,t=n.publishedDate,r=n.user,o=n.tags,c=n.title,u=n.body,i=n._id;return a.a.createElement(De,null,a.a.createElement("h2",null,a.a.createElement(m.b,{to:"/@".concat(r.username,"/").concat(i)},c)),a.a.createElement(we,{username:r.username,publishedDate:new Date(t)}),a.a.createElement(Se,{tags:o}),a.a.createElement("p",null,u))},Ae=function(e){var n=e.posts,t=e.loading,r=e.error,o=e.showWriteButton;return r?a.a.createElement(Re,null,"\uc5d0\ub7ec\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4."):a.a.createElement(Re,null,a.a.createElement(_e,null,o&&a.a.createElement(k,{cyan:!0,to:"/write"},"\uc0c8 \uae00 \uc791\uc131\ud558\uae30")),!t&&n&&a.a.createElement("div",null,n.map((function(e){return a.a.createElement(Le,{post:e,key:e._id})}))))},Ue=B.a.mark(qe),ze=Y("posts/LIST_POSTS"),Me=Object(F.a)(ze,3),Be=Me[0],Fe=Me[1],We=Me[2],Ge=Object(W.a)(Be,(function(e){return{tag:e.tag,username:e.username,page:e.page}})),He=ee(Be,(function(e){var n=e.page,t=e.username,r=e.tag,a=Ee.a.stringify({page:n,username:t,tag:r});return J.get("/api/posts?".concat(a))}));function qe(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(H.d)(Be,He);case 2:case"end":return e.stop()}}),Ue)}var Je=Object(G.a)((Ne={},Object(U.a)(Ne,Fe,(function(e,n){var t=n.payload,r=n.meta;return Object(z.a)(Object(z.a)({},e),{},{posts:t,lastPage:parseInt(r.headers["last-page"],10)})})),Object(U.a)(Ne,We,(function(e,n){var t=n.payload;return Object(z.a)(Object(z.a)({},e),{},{error:t})})),Ne),{posts:null,error:null,lastPage:1});Object(u.e)((function(e){var n=e.location,t=e.match,o=Object(i.b)(),c=Object(i.c)((function(e){var n=e.posts,t=e.loading,r=e.user;return{posts:n.posts,error:n.error,loading:t["posts/LIST_POSTS"],user:r.user}})),u=c.posts,l=c.error,s=c.loading,m=c.user;return Object(r.useEffect)((function(){var e=t.params.username,r=Ee.a.parse(n.search,{ignoreQueryPrefix:!0}),a=r.tag,c=r.page;o(Ge({tag:a,username:e,page:c}))}),[o,n.search,t.params]),a.a.createElement(Ae,{loading:s,error:l,posts:u,showWriteButton:m})}));function Qe(){var e=Object(l.a)([""]);return Qe=function(){return e},e}function Ze(){var e=Object(l.a)(["\n  width: 320px;\n  margin: 0 auto;\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 3rem;\n"]);return Ze=function(){return e},e}var $e=s.b.div(Ze()),Ke=s.b.div(Qe()),Ve=function(e){var n=e.username,t=e.tag,r=e.page,a=Ee.a.stringify({tag:t,page:r});return n?"/@".concat(n,"?").concat(a):"/?".concat(a)},Xe=function(e){var n=e.page,t=e.lastPage,r=e.username,o=e.tag;return a.a.createElement($e,null,a.a.createElement(k,{disabled:1===n,to:1===n?void 0:Ve({username:r,tag:o,page:n-1})},"\uc774\uc804"),a.a.createElement(Ke,null,n),a.a.createElement(k,{disabled:n===t,to:n===t?void 0:Ve({username:r,tag:o,page:n+1})},"\ub2e4\uc74c"))};Object(u.e)((function(e){var n=e.location,t=e.match,r=Object(i.c)((function(e){var n=e.posts,t=e.loading;return{lastPage:n.lastPage,posts:n.posts,loading:t["posts/LIST_POSTS"]}})),o=r.lastPage,c=r.posts,u=r.loading;if(!c||u)return null;var l=t.params.username,s=Ee.a.parse(n.search,{ignoreQueryPrefix:!0}),m=s.tag,b=s.page,d=void 0===b?1:b;return a.a.createElement(Xe,{tag:m,username:l,page:parseInt(d,10),lastPage:o})}));function Ye(){var e=Object(l.a)(["\n  .logo-area {\n    display: block;\n    padding-bottom: 2rem;\n    text-align: center;\n    font-weight: bold;\n    letter-spacing: 2px;\n  }\n  box-shadow: 0 0 8px rgba(0, 0, 0, 0.025);\n  padding: 2rem;\n  width: 360px;\n  background: white;\n  border-radius: 2px;\n"]);return Ye=function(){return e},e}function en(){var e=Object(l.a)(["\n  position: absolute;\n  left: 0;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  background: ",";\n  /* flex\ub85c \ub0b4\ubd80 \ub0b4\uc6a9 \uc911\uc559 \uc815\ub82c */\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n"]);return en=function(){return e},e}var nn,tn=s.b.div(en(),p.gray[2]),rn=s.b.div(Ye()),an=function(e){var n=e.children;return a.a.createElement(tn,null,a.a.createElement(rn,null,a.a.createElement("div",{className:"logo-area"},a.a.createElement(m.b,{to:"/"},"WINEUS")),n))},on=t(58),cn=B.a.mark(Cn),un="auth/CHANGE_FIELD",ln="auth/INITIALIZE_FORM",sn=Y("auth/REGISTER"),mn=Object(F.a)(sn,3),bn=mn[0],dn=mn[1],fn=mn[2],gn=Y("auth/LOGIN"),pn=Object(F.a)(gn,3),vn=pn[0],On=pn[1],jn=pn[2],En=Object(W.a)(un,(function(e){return{form:e.form,key:e.key,value:e.value}})),hn=Object(W.a)(ln,(function(e){return e})),yn=Object(W.a)(bn,(function(e){return{username:e.username,password:e.password}})),xn=Object(W.a)(vn,(function(e){return{username:e.username,password:e.password}})),wn=ee(bn,(function(e){var n=e.username,t=e.password;return J.post("/api/auth/register",{username:n,password:t})})),kn=ee(vn,(function(e){var n=e.username,t=e.password;return J.post("/api/auth/login",{username:n,password:t})}));function Cn(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(H.d)(bn,wn);case 2:return e.next=4,Object(H.d)(vn,kn);case 4:case"end":return e.stop()}}),cn)}var Sn={register:{username:"",password:"",passwordConfirm:""},login:{username:"",password:""},auth:null,authError:null},In=Object(G.a)((nn={},Object(U.a)(nn,un,(function(e,n){var t=n.payload,r=t.form,a=t.key,o=t.value;return Object(on.a)(e,(function(e){e[r][a]=o}))})),Object(U.a)(nn,ln,(function(e,n){var t,r=n.payload;return Object(z.a)(Object(z.a)({},e),{},(t={},Object(U.a)(t,r,Sn[r]),Object(U.a)(t,"authError",null),t))})),Object(U.a)(nn,dn,(function(e,n){var t=n.payload;return Object(z.a)(Object(z.a)({},e),{},{authError:null,auth:t})})),Object(U.a)(nn,fn,(function(e,n){var t=n.payload;return Object(z.a)(Object(z.a)({},e),{},{authError:t})})),Object(U.a)(nn,On,(function(e,n){var t=n.payload;return Object(z.a)(Object(z.a)({},e),{},{authError:null,auth:t})})),Object(U.a)(nn,jn,(function(e,n){var t=n.payload;return Object(z.a)(Object(z.a)({},e),{},{authError:t})})),nn),Sn);function Tn(){var e=Object(l.a)(["\n  color: red;\n  text-align: center;\n  font-size: 0.875rem;\n  margin-top: 1rem;\n"]);return Tn=function(){return e},e}function Pn(){var e=Object(l.a)(["\n  margin-top: 1rem;\n"]);return Pn=function(){return e},e}function Nn(){var e=Object(l.a)(["\n  margin-top: 2rem;\n  text-align: right;\n  a {\n    color: ",";\n    text-decoration: underline;\n    &:hover {\n      color: ",";\n    }\n  }\n"]);return Nn=function(){return e},e}function Rn(){var e=Object(l.a)(["\n  font-size: 1rem;\n  border: none;\n  border-bottom: 1px solid ",";\n  padding-bottom: 0.5rem;\n  outline: none;\n  width: 100%;\n  &:focus {\n    color: $oc-teal-7;\n    border-bottom: 1px solid ",";\n  }\n  & + & {\n    margin-top: 1rem;\n  }\n"]);return Rn=function(){return e},e}function _n(){var e=Object(l.a)(["\n  h3 {\n    margin: 0;\n    color: ",";\n    margin-bottom: 1rem;\n  }\n"]);return _n=function(){return e},e}var Dn=s.b.div(_n(),p.gray[8]),Ln=s.b.input(Rn(),p.gray[5],p.gray[7]),An=s.b.div(Nn(),p.gray[6],p.gray[9]),Un=Object(s.b)(k)(Pn()),zn={login:"\ub85c\uadf8\uc778",register:"\ud68c\uc6d0\uac00\uc785"},Mn=s.b.div(Tn()),Bn=function(e){var n=e.type,t=e.form,r=e.onChange,o=e.onSubmit,c=e.error,u=zn[n];return a.a.createElement(Dn,null,a.a.createElement("h3",null,u),a.a.createElement("form",{onSubmit:o},a.a.createElement(Ln,{autoComplete:"username",name:"username",placeholder:"\uc544\uc774\ub514",onChange:r,value:t.username}),a.a.createElement(Ln,{autoComplete:"new-password",name:"password",placeholder:"\ube44\ubc00\ubc88\ud638",type:"password",onChange:r,value:t.password}),"register"===n&&a.a.createElement(Ln,{autoComplete:"new-password",name:"passwordConfirm",placeholder:"\ube44\ubc00\ubc88\ud638 \ud655\uc778",type:"password",onChange:r,value:t.passwordConfirm}),c&&a.a.createElement(Mn,null,c),a.a.createElement(Un,{cyan:!0,fullWidth:!0,style:{marginTop:"1rem"}},u)),a.a.createElement(An,null,"login"===n?a.a.createElement(m.b,{to:"/register"},"\ud68c\uc6d0\uac00\uc785"):a.a.createElement(m.b,{to:"/login"},"\ub85c\uadf8\uc778")))},Fn=Object(u.e)((function(e){var n=e.history,t=Object(r.useState)(null),o=Object(F.a)(t,2),c=o[0],u=o[1],l=Object(i.b)(),s=Object(i.c)((function(e){var n=e.auth,t=e.user;return{form:n.login,auth:n.auth,authError:n.authError,user:t.user}})),m=s.form,b=s.auth,d=s.authError,f=s.user;return Object(r.useEffect)((function(){l(hn("login"))}),[l]),Object(r.useEffect)((function(){if(d)return console.log("\uc624\ub958 \ubc1c\uc0dd"),console.log(d),void u("\ub85c\uadf8\uc778 \uc2e4\ud328");b&&(console.log("\ub85c\uadf8\uc778 \uc131\uacf5"),l(me()))}),[b,d,l]),Object(r.useEffect)((function(){if(f){n.push("/");try{localStorage.setItem("user",JSON.stringify(f))}catch(e){console.log("localStorage is not working")}}}),[n,f]),a.a.createElement(Bn,{type:"login",form:m,onChange:function(e){var n=e.target,t=n.value,r=n.name;l(En({form:"login",key:r,value:t}))},onSubmit:function(e){e.preventDefault();var n=m.username,t=m.password;l(xn({username:n,password:t}))},error:c})})),Wn=function(){return a.a.createElement(an,null,a.a.createElement(Fn,null))},Gn=Object(u.e)((function(e){var n=e.history,t=Object(r.useState)(null),o=Object(F.a)(t,2),c=o[0],u=o[1],l=Object(i.b)(),s=Object(i.c)((function(e){var n=e.auth,t=e.user;return{form:n.register,auth:n.auth,authError:n.authError,user:t.user}})),m=s.form,b=s.auth,d=s.authError,f=s.user;return Object(r.useEffect)((function(){l(hn("register"))}),[l]),Object(r.useEffect)((function(){if(d)return 409===d.response.status?void u("\uc774\ubbf8 \uc874\uc7ac\ud558\ub294 \uacc4\uc815\uba85\uc785\ub2c8\ub2e4."):void u("\ud68c\uc6d0\uac00\uc785 \uc2e4\ud328");b&&(console.log("\ud68c\uc6d0\uac00\uc785 \uc131\uacf5"),console.log(b),l(me()))}),[b,d,l]),Object(r.useEffect)((function(){if(f){n.push("/");try{localStorage.setItem("user",JSON.stringify(f))}catch(e){console.log("localStorage is not working")}}}),[n,f]),a.a.createElement(Bn,{type:"register",form:m,onChange:function(e){var n=e.target,t=n.value,r=n.name;l(En({form:"register",key:r,value:t}))},onSubmit:function(e){e.preventDefault();var n=m.username,t=m.password,r=m.passwordConfirm;if(![n,t,r].includes(""))return t!==r?(u("\ube44\ubc00\ubc88\ud638\uac00 \uc77c\uce58\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4."),l(En({form:"register",key:"password",value:""})),void l(En({form:"register",key:"passwordConfirm",value:""}))):void l(yn({username:n,password:t}));u("\ube48 \uce78\uc744 \ubaa8\ub450 \uc785\ub825\ud558\uc138\uc694.")},error:c})})),Hn=function(){return a.a.createElement(an,null,a.a.createElement(Gn,null))},qn=t(59),Jn=t.n(qn);t(100);function Qn(){var e=Object(l.a)(["\n  /* \ucd5c\uc18c \ud06c\uae30 \uc9c0\uc815 \ubc0f padding \uc81c\uac70 */\n  .ql-editor {\n    padding: 0;\n    min-height: 320px;\n    font-size: 1.125rem;\n    line-height: 1.5;\n  }\n  .ql-editor.ql-blank::before {\n    left: 0px;\n  }\n"]);return Qn=function(){return e},e}function Zn(){var e=Object(l.a)(["\n  font-size: 3rem;\n  outline: none;\n  padding-bottom: 0.5rem;\n  border: none;\n  border-bottom: 1px solid ",";\n  margin-bottom: 2rem;\n  width: 100%;\n"]);return Zn=function(){return e},e}function $n(){var e=Object(l.a)(["\n  /* \ud398\uc774\uc9c0 \uc704 \uc544\ub798 \uc5ec\ubc31 \uc9c0\uc815 */\n  padding-top: 5rem;\n  padding-bottom: 5rem;\n"]);return $n=function(){return e},e}var Kn,Vn=Object(s.b)(g)($n()),Xn=s.b.input(Zn(),p.gray[4]),Yn=s.b.div(Qn()),et=function(e){var n=e.title,t=e.body,o=e.onChangeField,c=Object(r.useRef)(null),u=Object(r.useRef)(null);Object(r.useEffect)((function(){u.current=new Jn.a(c.current,{theme:"bubble",placeholder:"\ub0b4\uc6a9\uc744 \uc791\uc131\ud558\uc138\uc694...",modules:{toolbar:[[{header:"1"},{header:"2"}],["bold","italic","underline","strike"],[{list:"ordered"},{list:"bullet"}],["blockquote","code-block","link","image"]]}});var e=u.current;e.on("text-change",(function(n,t,r){"user"===r&&o({key:"body",value:e.root.innerHTML})}))}),[o]);var i=Object(r.useRef)(!1);Object(r.useEffect)((function(){i.current||(i.current=!0,u.current.root.innerHTML=t)}),[t]);return a.a.createElement(Vn,null,a.a.createElement(Xn,{placeholder:"\uc81c\ubaa9\uc744 \uc785\ub825\ud558\uc138\uc694",onChange:function(e){o({key:"title",value:e.target.value})},value:n}),a.a.createElement(Yn,null,a.a.createElement("div",{ref:c})))},nt=B.a.mark(yt),tt="write/INITIALIZE",rt="write/CHANGE_FIELD",at=Y("write/WRITE_POST"),ot=Object(F.a)(at,3),ct=ot[0],ut=ot[1],it=ot[2],lt="write/SET_ORIGINAL_POST",st=Y("write/UPDATE_POST"),mt=Object(F.a)(st,3),bt=mt[0],dt=mt[1],ft=mt[2],gt=Object(W.a)(tt),pt=Object(W.a)(rt,(function(e){return{key:e.key,value:e.value}})),vt=Object(W.a)(ct,(function(e){return{title:e.title,body:e.body,tags:e.tags}})),Ot=Object(W.a)(lt,(function(e){return e})),jt=Object(W.a)(bt,(function(e){return{id:e.id,title:e.title,body:e.body,tags:e.tags}})),Et=ee(ct,(function(e){var n=e.title,t=e.body,r=e.tags;return J.post("/api/posts",{title:n,body:t,tags:r})})),ht=ee(bt,(function(e){var n=e.id,t=e.title,r=e.body,a=e.tags;return J.patch("/api/posts/".concat(n),{title:t,body:r,tags:a})}));function yt(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(H.d)(ct,Et);case 2:return e.next=4,Object(H.d)(bt,ht);case 4:case"end":return e.stop()}}),nt)}var xt={title:"",body:"",tags:[],post:null,postError:null,originalPostId:null},wt=Object(G.a)((Kn={},Object(U.a)(Kn,tt,(function(e){return xt})),Object(U.a)(Kn,rt,(function(e,n){var t=n.payload,r=t.key,a=t.value;return Object(z.a)(Object(z.a)({},e),{},Object(U.a)({},r,a))})),Object(U.a)(Kn,ct,(function(e){return Object(z.a)(Object(z.a)({},e),{},{post:null,postError:null})})),Object(U.a)(Kn,ut,(function(e,n){var t=n.payload;return Object(z.a)(Object(z.a)({},e),{},{post:t})})),Object(U.a)(Kn,it,(function(e,n){var t=n.payload;return Object(z.a)(Object(z.a)({},e),{},{postError:t})})),Object(U.a)(Kn,lt,(function(e,n){var t=n.payload;return Object(z.a)(Object(z.a)({},e),{},{title:t.title,body:t.body,tags:t.tags,originalPostId:t._id})})),Object(U.a)(Kn,dt,(function(e,n){var t=n.payload;return Object(z.a)(Object(z.a)({},e),{},{post:t})})),Object(U.a)(Kn,ft,(function(e,n){var t=n.payload;return Object(z.a)(Object(z.a)({},e),{},{postError:t})})),Kn),xt),kt=function(){var e=Object(i.b)(),n=Object(i.c)((function(e){var n=e.write;return{title:n.title,body:n.body}})),t=n.title,o=n.body,c=Object(r.useCallback)((function(n){return e(pt(n))}),[e]);return Object(r.useEffect)((function(){return function(){e(gt())}}),[e]),a.a.createElement(et,{onChangeField:c,title:t,body:o})},Ct=t(34);function St(){var e=Object(l.a)(["\n  display: flex;\n  margin-top: 0.5rem;\n"]);return St=function(){return e},e}function It(){var e=Object(l.a)(["\n  margin-right: 0.5rem;\n  color: ",";\n  cursor: pointer;\n  &:hover {\n    opacity: 0.5;\n  }\n"]);return It=function(){return e},e}function Tt(){var e=Object(l.a)(["\n  border-radius: 4px;\n  overflow: hidden;\n  display: flex;\n  width: 256px;\n  border: 1px solid ","; /* \uc2a4\ud0c0\uc77c \ucd08\uae30\ud654 */\n  input,\n  button {\n    outline: none;\n    border: none;\n    font-size: 1rem;\n  }\n\n  input {\n    padding: 0.5rem;\n    flex: 1;\n  }\n  button {\n    cursor: pointer;\n    padding-right: 1rem;\n    padding-left: 1rem;\n    border: none;\n    background: ",";\n    color: white;\n    font-weight: bold;\n    &:hover {\n      background: ",";\n    }\n  }\n"]);return Tt=function(){return e},e}function Pt(){var e=Object(l.a)(["\n  width: 100%;\n  border-top: 1px solid ",";\n  padding-top: 2rem;\n\n  h4 {\n    color: ","\n    margin-top: 0;\n    margin-bottom: 0.5rem;\n  }\n"]);return Pt=function(){return e},e}var Nt=s.b.div(Pt(),p.gray[2],p.gray[8]),Rt=s.b.form(Tt(),p.gray[9],p.gray[8],p.gray[6]),_t=s.b.div(It(),p.gray[6]),Dt=s.b.div(St()),Lt=a.a.memo((function(e){var n=e.tag,t=e.onRemove;e.onChangeTags;return a.a.createElement(_t,{onClick:function(){return t(n)}},"#",n)})),At=a.a.memo((function(e){var n=e.tags,t=e.onRemove;return a.a.createElement(Dt,null,n.map((function(e){return a.a.createElement(Lt,{key:e,tag:e,onRemove:t})})))})),Ut=function(e){var n=e.tags,t=e.onChangeTags,o=Object(r.useState)(""),c=Object(F.a)(o,2),u=c[0],i=c[1],l=Object(r.useState)([]),s=Object(F.a)(l,2),m=s[0],b=s[1],d=Object(r.useCallback)((function(e){if(e&&!m.includes(e)){var n=[].concat(Object(Ct.a)(m),[e]);b(n),t(n)}}),[m,t]),f=Object(r.useCallback)((function(e){var n=m.filter((function(n){return n!==e}));b(n),t(n)}),[m,t]),g=Object(r.useCallback)((function(e){i(e.target.value)}),[]),p=Object(r.useCallback)((function(e){e.preventDefault(),d(u.trim()),i("")}),[u,d]);return Object(r.useEffect)((function(){b(n)}),[n]),a.a.createElement(Nt,null,a.a.createElement("h4",null,"\ud0dc\uadf8"),a.a.createElement(Rt,{onSubmit:p},a.a.createElement("input",{placeholder:"\ud0dc\uadf8\ub97c \uc785\ub825\ud558\uc138\uc694",value:u,onChange:g}),a.a.createElement("button",{type:"submit"},"\ucd94\uac00")),a.a.createElement(At,{tags:m,onRemove:f}))},zt=function(){var e=Object(i.b)(),n=Object(i.c)((function(e){return e.write.tags}));return a.a.createElement(Ut,{onChangeTags:function(n){e(pt({key:"tags",value:n}))},tags:n})};function Mt(){var e=Object(l.a)(["\n  height: 2.125rem;\n  & + & {\n    margin-left: 0.5rem;\n  }\n"]);return Mt=function(){return e},e}function Bt(){var e=Object(l.a)(["\n  margin-top: 1rem;\n  margin-bottom: 3rem;\n  button + button {\n    margin-left: 0.5rem;\n  }\n"]);return Bt=function(){return e},e}var Ft,Wt=s.b.div(Bt()),Gt=Object(s.b)(k)(Mt()),Ht=function(e){var n=e.onCancel,t=e.onPublish,r=e.isEdit;return a.a.createElement(Wt,null,a.a.createElement(Gt,{cyan:!0,onClick:t},"\ud3ec\uc2a4\ud2b8 ",r?"\uc218\uc815":"\ub4f1\ub85d"),a.a.createElement(Gt,{onClick:n},"\ucde8\uc18c"))},qt=Object(u.e)((function(e){var n=e.history,t=Object(i.b)(),o=Object(i.c)((function(e){var n=e.write;return{title:n.title,body:n.body,tags:n.tags,post:n.post,postError:n.postError,originalPostId:n.originalPostId}})),c=o.title,u=o.body,l=o.tags,s=o.post,m=o.postError,b=o.originalPostId;return Object(r.useEffect)((function(){if(s){var e=s._id,t=s.user;n.push("/@".concat(t.username,"/").concat(e))}m&&console.log(m)}),[n,s,m]),a.a.createElement(Ht,{onPublish:function(){t(b?jt({title:c,body:u,tags:l,id:b}):vt({title:c,body:u,tags:l}))},onCancel:function(){n.goBack()},isEdit:!!b})})),Jt=t(18),Qt=function(){return a.a.createElement(g,null,a.a.createElement(Jt.a,null,a.a.createElement("title",null,"\uae00 \uc791\uc131\ud558\uae30 - REACTERS")),a.a.createElement(kt,null),a.a.createElement(zt,null),a.a.createElement(qt,null))},Zt=t(33),$t=B.a.mark(or),Kt=Y("post/READ_POST"),Vt=Object(F.a)(Kt,3),Xt=Vt[0],Yt=Vt[1],er=Vt[2],nr="post/UNLOAD_POST",tr=Object(W.a)(Xt,(function(e){return e})),rr=Object(W.a)(nr),ar=ee(Xt,(function(e){return J.get("/api/posts/".concat(e))}));function or(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(H.d)(Xt,ar);case 2:case"end":return e.stop()}}),$t)}var cr={post:null,error:null},ur=Object(G.a)((Ft={},Object(U.a)(Ft,Yt,(function(e,n){var t=n.payload;return Object(z.a)(Object(z.a)({},e),{},{post:t})})),Object(U.a)(Ft,er,(function(e,n){var t=n.payload;return Object(z.a)(Object(z.a)({},e),{},{error:t})})),Object(U.a)(Ft,nr,(function(){return cr})),Ft),cr);function ir(){var e=Object(l.a)(["\n  font-size: 1.3125rem;\n  color: ",";\n"]);return ir=function(){return e},e}function lr(){var e=Object(l.a)(["\n  border-bottom: 1px solid ",";\n  padding-bottom: 3rem;\n  margin-bottom: 3rem;\n  h1 {\n    font-size: 3rem;\n    line-height: 1.5;\n    margin: 0;\n  }\n"]);return lr=function(){return e},e}function sr(){var e=Object(l.a)(["\n  margin-top: 4rem;\n"]);return sr=function(){return e},e}var mr=Object(s.b)(g)(sr()),br=s.b.div(lr(),p.gray[2]),dr=s.b.div(ir(),p.gray[8]),fr=function(e){var n=e.post,t=e.error,r=e.loading,o=e.actionButtons;e.ownPost;if(t)return t.response&&404===t.response.status?a.a.createElement(mr,null,"\uc874\uc7ac\ud558\uc9c0 \uc54a\ub294 \ud3ec\uc2a4\ud2b8\uc785\ub2c8\ub2e4."):a.a.createElement(mr,null,"\uc624\ub958 \ubc1c\uc0dd!");if(r||!n)return null;var c=n.title,u=n.body,i=n.user,l=n.publishedDate,s=n.tags;return a.a.createElement(mr,null,a.a.createElement(Jt.a,null,a.a.createElement("title",null,c," - REACTERS")),a.a.createElement(br,null,a.a.createElement("h1",null,c),a.a.createElement(we,{username:i.username,publishedDate:l,hasMarginTop:!0}),a.a.createElement(Se,{tags:s})),o,a.a.createElement(dr,{dangerouslySetInnerHTML:{__html:u}}))};function gr(){var e=Object(l.a)(["\n  height: 2rem;\n  & + & {\n    margin-left: 0.75rem;\n  }\n"]);return gr=function(){return e},e}function pr(){var e=Object(l.a)(["\n  width: 320px;\n  background: white;\n  padding: 1.5rem;\n  border-radius: 4px;\n  box-shadow: 0px 0px 8px rgba(0, 0, 0, 0.125);\n  h2 {\n    margin-top: 0;\n    margin-bottom: 1rem;\n  }\n  p {\n    margin-bottom: 3rem;\n  }\n  .buttons {\n    display: flex;\n    justify-content: flex-end;\n  }\n"]);return pr=function(){return e},e}function vr(){var e=Object(l.a)(["\n  position: fixed;\n  z-index: 30;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: rgba(0, 0, 0, 0.25);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return vr=function(){return e},e}var Or=s.b.div(vr()),jr=s.b.div(pr()),Er=Object(s.b)(k)(gr()),hr=function(e){var n=e.visible,t=e.title,r=e.description,o=e.confirmText,c=void 0===o?"\ud655\uc778":o,u=e.cancelText,i=void 0===u?"\ucde8\uc18c":u,l=e.onConfirm,s=e.onCancel;return n?a.a.createElement(Or,null,a.a.createElement(jr,null,a.a.createElement("h2",null,t),a.a.createElement("p",null,r),a.a.createElement("div",{className:"buttons"},a.a.createElement(Er,{onClick:s},i),a.a.createElement(Er,{cyan:!0,onClick:l},c)))):null},yr=function(e){var n=e.visible,t=e.onConfirm,r=e.onCancel;return a.a.createElement(hr,{visible:n,title:"\ud3ec\uc2a4\ud2b8 \uc0ad\uc81c",description:"\ud3ec\uc2a4\ud2b8\ub97c \uc815\ub9d0 \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?",confirmText:"\uc0ad\uc81c",onConfirm:t,onCancel:r})};function xr(){var e=Object(l.a)(["\n  padding: 0.25rem 0.5rem;\n  border-radius: 4px;\n  color: ",";\n  font-weight: bold;\n  border: none;\n  outline: none;\n  font-size: 0.875rem;\n  cursor: pointer;\n  &:hover {\n    background: ",";\n    color: ",";\n  }\n  & + & {\n    margin-left: 0.25rem;\n  }\n"]);return xr=function(){return e},e}function wr(){var e=Object(l.a)(["\n  display: flex;\n  justify-content: flex-end;\n  margin-bottom: 2rem;\n  margin-top: -1.5rem;\n"]);return wr=function(){return e},e}var kr=s.b.div(wr()),Cr=s.b.button(xr(),p.gray[6],p.gray[1],p.cyan[7]),Sr=function(e){var n=e.onEdit,t=e.onRemove,o=Object(r.useState)(!1),c=Object(F.a)(o,2),u=c[0],i=c[1];return a.a.createElement(a.a.Fragment,null,a.a.createElement(kr,null,a.a.createElement(Cr,{onClick:n},"\uc218\uc815"),a.a.createElement(Cr,{onClick:function(){i(!0)}},"\uc0ad\uc81c")),a.a.createElement(yr,{visible:u,onConfirm:function(){i(!1),t()},onCancel:function(){i(!1)}}))},Ir=(Object(u.e)((function(e){var n=e.match,t=e.history,o=n.params.postId,c=Object(i.b)(),u=Object(i.c)((function(e){var n=e.post,t=e.loading,r=e.user;return{post:n.post,error:n.error,loading:t["post/READ_POST"],user:r.user}})),l=u.post,s=u.error,m=u.loading,b=u.user;Object(r.useEffect)((function(){return c(tr(o)),function(){c(rr())}}),[c,o]);var d=function(){var e=Object(Zt.a)(B.a.mark((function e(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n=o,J.delete("/api/posts/".concat(n));case 3:t.push("/"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}var n}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),f=(b&&b._id)===(l&&l.user._id);return a.a.createElement(fr,{post:l,loading:m,error:s,actionButtons:f&&a.a.createElement(Sr,{onEdit:function(){c(Ot(l)),t.push("/write")},onRemove:d})})})),t.p+"static/media/invoice.d1e34567.png");function Tr(){var e=Object(l.a)(["\n  height: 2rem;\n  & + & {\n    margin-left: 0.75rem;\n  }\n"]);return Tr=function(){return e},e}function Pr(){var e=Object(l.a)(["\n  background : white;\n  padding: 1.5rem;\n  border-radius: 4px;\n  box-shadow: 0px 0px 8px rgba(0, 0, 0, 0.125);\n  h2 {\n    margin-top: 0;\n    margin-bottom: 1rem;\n  }\n  p {\n    margin-bottom: 3rem;\n  }\n  .buttons {\n    display: flex;\n    justify-content: flex-end;\n  }\n"]);return Pr=function(){return e},e}function Nr(){var e=Object(l.a)(["\n  position: fixed;\n  z-index: 30;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: rgba(0, 0, 0, 0.25);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return Nr=function(){return e},e}var Rr=s.b.div(Nr()),_r=s.b.div(Pr()),Dr=Object(s.b)(k)(Tr()),Lr=function(){window.print()},Ar=function(e){var n=e.visible,t=e.onCancel,r=e.name,o=e.contactNumber,c=e.address;return n?a.a.createElement(Rr,null,a.a.createElement(_r,null,a.a.createElement("div",null,a.a.createElement("div",{style:{position:"relative"}},a.a.createElement("img",{src:Ir,alt:"\uc1a1\uc7a5\uc774\ubbf8\uc9c0"})),a.a.createElement("div",{style:{top:"61%",left:"40%",bottom:"140px",fontSize:"1.0em",fontWeight:"bold",position:"absolute"}},a.a.createElement("div",{style:{marginBottom:"0.8rem"}},r),a.a.createElement("div",{style:{marginBottom:"0.8rem"}},c),a.a.createElement("div",{style:{marginBottom:"0.8rem"}},o))),a.a.createElement("p",null),a.a.createElement(Dr,{onClick:Lr},"\ucd9c\ub825"),a.a.createElement(Dr,{onClick:t},"\ucde8\uc18c"))):null},Ur=void 0;function zr(){var e=Object(l.a)(["\n  font-size: 1.0rem;\n  outline: none;\n  border: none;\n  border-bottom: 1px solid ",";\n"]);return zr=function(){return e},e}function Mr(){var e=Object(l.a)(["\n  padding-top: 1.5rem;\n  padding-bottom: 1.5rem;\n  /* \ub9e8 \uc704 \ud3ec\uc2a4\ud2b8\ub294 padding-top \uc5c6\uc74c */\n  &:first-child {\n    padding-top: 0;\n  }\n  & + & {\n    border-top: 1px solid ",";\n  }\n\n  h2 {\n    font-size: 2rem;\n    margin-bottom: 0;\n    margin-top: 0;\n    &:hover {\n      color: ",";\n    }\n  }\n  p {\n    margin-top: 0.5rem;\n  }\n"]);return Mr=function(){return e},e}function Br(){var e=Object(l.a)(["\n  display: flex;\n  justify-content: flex-end;\n  margin-bottom: 3rem;\n"]);return Br=function(){return e},e}function Fr(){var e=Object(l.a)(["\n  margin-top: 3rem;\n"]);return Fr=function(){return e},e}var Wr,Gr=Object(s.b)(g)(Fr()),Hr=s.b.div(Br()),qr=s.b.div(Mr(),p.gray[2],p.gray[6]),Jr=s.b.input(zr(),p.gray[4]),Qr=function(e){var n=e.customer,t=Object(r.useState)(!1),o=Object(F.a)(t,2),c=o[0],u=o[1],i=n.publishedDate,l=n.user,s=n.name,b=n.contactNumber,d=(n.advancedNumber,n.address),f=n.extra,g=n._id;return a.a.createElement(qr,null,a.a.createElement("h2",null,a.a.createElement(m.b,{to:"/@".concat(l.username,"/").concat(g)},s)),a.a.createElement(we,{username:l.username,publishedDate:new Date(i)}),a.a.createElement(Se,{tags:f}),a.a.createElement("p",null,"\uc8fc\uc18c : ",d),a.a.createElement("p",null,"\uc5f0\ub77d\ucc98 : ",b),a.a.createElement(k,{onClick:function(){u(!0)}},"\uc1a1\uc7a5 \ucd9c\ub825"),a.a.createElement(Ar,{visible:c,onCancel:function(){u(!1)},name:s,contactNumber:b,address:d}))},Zr=function(e){var n=e.customers,t=e.loading,r=e.error,o=e.showWriteButton;return r?a.a.createElement(Gr,null,"\uc5d0\ub7ec\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4."):a.a.createElement(Gr,null,a.a.createElement(Hr,null,a.a.createElement(Jr,{name:"searchKeyword",placeholder:"\uac80\uc0c9\uc5b4\ub97c \uc785\ub825\ud558\uc138\uc694",onChange:function(e){console.log(e.target.value);var n={};n[e.target.name]=e.target.value,Ur.setState(n)}}),o&&a.a.createElement(k,{cyan:!0,to:"/customerRegister"},"\uc720\uc800 \ub4f1\ub85d\ud558\uae30")),!t&&n&&a.a.createElement("div",null,n.map((function(e){return a.a.createElement(Qr,{customer:e,key:e._id})}))))},$r=B.a.mark(ra),Kr=Y("customers/LIST_CUSTOMERS"),Vr=Object(F.a)(Kr,3),Xr=Vr[0],Yr=Vr[1],ea=Vr[2],na=Object(W.a)(Xr,(function(e){return{extra:e.extra,username:e.username,page:e.page}})),ta=ee(Xr,(function(e){var n=e.page,t=e.username,r=e.tag,a=Ee.a.stringify({page:n,username:t,tag:r});return J.get("/api/customers?".concat(a))}));function ra(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(H.d)(Xr,ta);case 2:case"end":return e.stop()}}),$r)}var aa=Object(G.a)((Wr={},Object(U.a)(Wr,Yr,(function(e,n){var t=n.payload,r=n.meta;return Object(z.a)(Object(z.a)({},e),{},{customers:t,lastPage:parseInt(r.headers["last-page"],10)})})),Object(U.a)(Wr,ea,(function(e,n){var t=n.payload;return Object(z.a)(Object(z.a)({},e),{},{error:t})})),Wr),{customers:null,error:null,lastPage:1}),oa=Object(u.e)((function(e){var n=e.location,t=e.match,o=Object(i.b)(),c=Object(i.c)((function(e){var n=e.customers,t=e.loading,r=e.user;return{customers:n.customers,error:n.error,loading:t["customers/LIST_CUSTOMERS"],user:r.user}})),u=c.customers,l=c.error,s=c.loading,m=c.user;return Object(r.useEffect)((function(){var e=t.params.username,r=Ee.a.parse(n.search,{ignoreQueryPrefix:!0}),a=r.extra,c=r.page;o(na({extra:a,username:e,page:c}))}),[o,n.search,t.params]),a.a.createElement(Zr,{loading:s,error:l,customers:u,showWriteButton:m})}));function ca(){var e=Object(l.a)([""]);return ca=function(){return e},e}function ua(){var e=Object(l.a)(["\n  width: 320px;\n  margin: 0 auto;\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 3rem;\n"]);return ua=function(){return e},e}var ia=s.b.div(ua()),la=s.b.div(ca()),sa=function(e){var n=e.username,t=e.tag,r=e.page,a=Ee.a.stringify({tag:t,page:r});return n?"/@".concat(n,"?").concat(a):"/?".concat(a)},ma=function(e){var n=e.page,t=e.lastPage,r=e.username,o=e.tag;return a.a.createElement(ia,null,a.a.createElement(k,{disabled:1===n,to:1===n?void 0:sa({username:r,tag:o,page:n-1})},"\uc774\uc804"),a.a.createElement(la,null,n),a.a.createElement(k,{disabled:n===t,to:n===t?void 0:sa({username:r,tag:o,page:n+1})},"\ub2e4\uc74c"))},ba=Object(u.e)((function(e){var n=e.location,t=e.match,r=Object(i.c)((function(e){var n=e.customers,t=e.loading;return{lastPage:n.lastPage,customers:n.customers,loading:t["customers/LIST_CUSTOMERS"]}})),o=r.lastPage,c=r.customers,u=r.loading;if(!c||u)return null;var l=t.params.username,s=Ee.a.parse(n.search,{ignoreQueryPrefix:!0}),m=s.tag,b=s.page,d=void 0===b?1:b;return a.a.createElement(ma,{tag:m,username:l,page:parseInt(d,10),lastPage:o})})),da=function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(Oe,null),a.a.createElement(oa,null),a.a.createElement(ba,null))};function fa(){var e=Object(l.a)(["\n  font-size: 1.5rem;\n  outline: none;\n  padding-bottom: 0.5rem;\n  border: none;\n  border-bottom: 1px solid ",";\n  margin-bottom: 2rem;\n  width: 100%;\n"]);return fa=function(){return e},e}function ga(){var e=Object(l.a)(["\n  /* \ud398\uc774\uc9c0 \uc704 \uc544\ub798 \uc5ec\ubc31 \uc9c0\uc815 */\n  padding-top: 5rem;\n  padding-bottom: 1.5rem;\n"]);return ga=function(){return e},e}var pa,va=Object(s.b)(g)(ga()),Oa=s.b.input(fa(),p.gray[4]),ja=function(e){var n=e.name,t=e.contactNumber,r=e.address,o=e.advancedPayment,c=e.onChangeField;return a.a.createElement(va,null,a.a.createElement(Oa,{placeholder:"\uc774\ub984\uc744 \uc785\ub825\ud558\uc138\uc694",onChange:function(e){c({key:"name",value:e.target.value})},value:n}),a.a.createElement(Oa,{placeholder:"\ud578\ub4dc\ud3f0 \ubc88\ud638\ub97c \uc785\ub825\ud558\uc138\uc694",onChange:function(e){c({key:"contactNumber",value:e.target.value})},value:t}),a.a.createElement(Oa,{placeholder:"\uc8fc\uc18c\uc744 \uc785\ub825\ud558\uc138\uc694",onChange:function(e){c({key:"address",value:e.target.value})},value:r}),a.a.createElement(Oa,{placeholder:"\uc120\uae09\uae08\uc744 \uc785\ub825\ud558\uc138\uc694",onChange:function(e){(""===e.target.value||/^[0-9\b]+$/.test(e.target.value))&&c({key:"advancedPayment",value:e.target.value}),e.target.value=""},value:o}))},Ea=B.a.mark(Fa),ha="register/INITIALIZE",ya="register/CHANGE_FIELD",xa=Y("register/REGISTER_CUTOMER"),wa=Object(F.a)(xa,3),ka=wa[0],Ca=wa[1],Sa=wa[2],Ia="register/SET_ORIGINAL_CUSTOMER",Ta=Y("register/UPDATE_CUSTOMER"),Pa=Object(F.a)(Ta,3),Na=Pa[0],Ra=Pa[1],_a=Pa[2],Da=Object(W.a)(ha),La=Object(W.a)(ya,(function(e){return{key:e.key,value:e.value}})),Aa=Object(W.a)(ka,(function(e){return{name:e.name,contactNumber:e.contactNumber,address:e.address,advancedPayment:e.advancedPayment,extra:e.extra}})),Ua=Object(W.a)(Ia,(function(e){return e})),za=Object(W.a)(Na,(function(e){return{id:e.id,name:e.name,contactNumber:e.contactNumber,address:e.address,advancedPayment:e.advancedPayment,extra:e.extra}})),Ma=ee(ka,(function(e){var n=e.name,t=e.contactNumber,r=e.address,a=e.advancedPayment,o=e.extra;return J.post("/api/customers",{name:n,contactNumber:t,address:r,advancedPayment:a,extra:o})})),Ba=ee(Na,(function(e){var n=e.id,t=e.name,r=e.contactNumber,a=e.address,o=e.advancedPayment,c=e.extra;return J.patch("/api/customers/".concat(n),{name:t,contactNumber:r,address:a,advancedPayment:o,extra:c})}));function Fa(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(H.d)(ka,Ma);case 2:return e.next=4,Object(H.d)(Na,Ba);case 4:case"end":return e.stop()}}),Ea)}var Wa={name:"",contactNumber:"",address:"",advancedPayment:0,extra:[],customer:null,customerError:null,originalCustomerId:null},Ga=Object(G.a)((pa={},Object(U.a)(pa,ha,(function(e){return Wa})),Object(U.a)(pa,ya,(function(e,n){var t=n.payload,r=t.key,a=t.value;return Object(z.a)(Object(z.a)({},e),{},Object(U.a)({},r,a))})),Object(U.a)(pa,ka,(function(e){return Object(z.a)(Object(z.a)({},e),{},{customer:null,customerError:null})})),Object(U.a)(pa,Ca,(function(e,n){var t=n.payload;return Object(z.a)(Object(z.a)({},e),{},{customer:t})})),Object(U.a)(pa,Sa,(function(e,n){var t=n.payload;return Object(z.a)(Object(z.a)({},e),{},{customerError:t})})),Object(U.a)(pa,Ia,(function(e,n){var t=n.payload;return Object(z.a)(Object(z.a)({},e),{},{name:t.name,contactNumber:t.contactNumber,address:t.address,advancedPayment:t.advancedPayment,extra:t.extra,originalCustomerId:t._id})})),Object(U.a)(pa,Ra,(function(e,n){var t=n.payload;return Object(z.a)(Object(z.a)({},e),{},{customer:t})})),Object(U.a)(pa,_a,(function(e,n){var t=n.payload;return Object(z.a)(Object(z.a)({},e),{},{customerError:t})})),pa),Wa),Ha=function(){var e=Object(i.b)(),n=Object(i.c)((function(e){var n=e.register;return{name:n.name,contactNumber:n.contactNumber,address:n.address,advancedPayment:n.advancedPayment}})),t=n.name,o=n.contactNumber,c=n.address,u=n.advancedPayment,l=Object(r.useCallback)((function(n){return e(La(n))}),[e]);return Object(r.useEffect)((function(){return function(){e(Da())}}),[e]),a.a.createElement(ja,{onChangeField:l,name:t,contactNumber:o,address:c,advancedPayment:u})};function qa(){var e=Object(l.a)(["\n  display: flex;\n  margin-top: 0.5rem;\n"]);return qa=function(){return e},e}function Ja(){var e=Object(l.a)(["\n  margin-right: 0.5rem;\n  color: ",";\n  cursor: pointer;\n  &:hover {\n    opacity: 0.5;\n  }\n"]);return Ja=function(){return e},e}function Qa(){var e=Object(l.a)(["\n  border-radius: 4px;\n  overflow: hidden;\n  display: flex;\n  width: 256px;\n  border: 1px solid ","; /* \uc2a4\ud0c0\uc77c \ucd08\uae30\ud654 */\n  input,\n  button {\n    outline: none;\n    border: none;\n    font-size: 1rem;\n  }\n\n  input {\n    padding: 0.5rem;\n    flex: 1;\n  }\n  button {\n    cursor: pointer;\n    padding-right: 1rem;\n    padding-left: 1rem;\n    border: none;\n    background: ",";\n    color: white;\n    font-weight: bold;\n    &:hover {\n      background: ",";\n    }\n  }\n"]);return Qa=function(){return e},e}function Za(){var e=Object(l.a)(["\n  width: 100%;\n  border-top: 1px solid ",";\n  padding-top: 2rem;\n\n  h4 {\n    color: ","\n    margin-top: 0;\n    margin-bottom: 0.5rem;\n  }\n"]);return Za=function(){return e},e}var $a=s.b.div(Za(),p.gray[2],p.gray[8]),Ka=s.b.form(Qa(),p.gray[9],p.gray[8],p.gray[6]),Va=s.b.div(Ja(),p.gray[6]),Xa=s.b.div(qa()),Ya=a.a.memo((function(e){var n=e.extra,t=e.onRemove;e.onChangeTags;return a.a.createElement(Va,{onClick:function(){return t(n)}},"#",n)})),eo=a.a.memo((function(e){var n=e.extra,t=e.onRemove;return a.a.createElement(Xa,null,n.map((function(e){return a.a.createElement(Ya,{key:e,extra:e,onRemove:t})})))})),no=function(e){var n=e.extra,t=e.onChangeTags,o=Object(r.useState)(""),c=Object(F.a)(o,2),u=c[0],i=c[1],l=Object(r.useState)([]),s=Object(F.a)(l,2),m=s[0],b=s[1],d=Object(r.useCallback)((function(e){if(e&&!m.includes(e)){var n=[].concat(Object(Ct.a)(m),[e]);b(n),t(n)}}),[m,t]),f=Object(r.useCallback)((function(e){var n=m.filter((function(n){return n!==e}));b(n),t(n)}),[m,t]),g=Object(r.useCallback)((function(e){i(e.target.value)}),[]),p=Object(r.useCallback)((function(e){e.preventDefault(),d(u.trim()),i("")}),[u,d]);return Object(r.useEffect)((function(){b(n)}),[n]),a.a.createElement($a,null,a.a.createElement("h4",null,"\ud0dc\uadf8"),a.a.createElement(Ka,{onSubmit:p},a.a.createElement("input",{placeholder:"\ud0dc\uadf8\ub97c \uc785\ub825\ud558\uc138\uc694",value:u,onChange:g}),a.a.createElement("button",{type:"submit"},"\ucd94\uac00")),a.a.createElement(eo,{extra:m,onRemove:f}))},to=function(){var e=Object(i.b)(),n=Object(i.c)((function(e){return e.register.extra}));return a.a.createElement(no,{onChangeTags:function(n){e(La({key:"extra",value:n}))},extra:n})};function ro(){var e=Object(l.a)(["\n  height: 2.125rem;\n  & + & {\n    margin-left: 0.5rem;\n  }\n"]);return ro=function(){return e},e}function ao(){var e=Object(l.a)(["\n  margin-top: 1rem;\n  margin-bottom: 3rem;\n  button + button {\n    margin-left: 0.5rem;\n  }\n"]);return ao=function(){return e},e}var oo,co=s.b.div(ao()),uo=Object(s.b)(k)(ro()),io=function(e){var n=e.onCancel,t=e.onPublish,r=e.isEdit;return a.a.createElement(co,null,a.a.createElement(uo,{cyan:!0,onClick:t},"\uace0\uac1d ",r?"\uc218\uc815":"\ub4f1\ub85d"),a.a.createElement(uo,{onClick:n},"\ucde8\uc18c"))},lo=Object(u.e)((function(e){var n=e.history,t=Object(i.b)(),o=Object(i.c)((function(e){var n=e.register;return{name:n.name,contactNumber:n.contactNumber,address:n.address,advancedPayment:n.advancedPayment,extra:n.extra,customer:n.customer,customerError:n.customerError,originalCustomerId:n.originalCustomerId}})),c=o.name,u=o.contactNumber,l=o.address,s=o.advancedPayment,m=o.extra,b=o.customer,d=o.customerError,f=o.originalCustomerId;return Object(r.useEffect)((function(){if(b){var e=b._id,t=b.user;n.push("/@".concat(t.username,"/").concat(e))}d&&console.log(d)}),[n,b,d]),a.a.createElement(io,{onPublish:function(){if(f)return console.log("originalCustomerId"+f),void t(za({name:c,contactNumber:u,address:l,advancedPayment:s,extra:m,id:f}));t(Aa({name:c,contactNumber:u,address:l,advancedPayment:s,extra:m}))},onCancel:function(){n.goBack()},isEdit:!!f})})),so=function(){return a.a.createElement(g,null,a.a.createElement(Jt.a,null,a.a.createElement("title",null,"\uace0\uac1d \ub4f1\ub85d\ud558\uae30 - WINEUS")),a.a.createElement(Ha,null),a.a.createElement(to,null),a.a.createElement(lo,null))},mo=B.a.mark(yo),bo=Y("customer/READ_CUSTOMER"),fo=Object(F.a)(bo,3),go=fo[0],po=fo[1],vo=fo[2],Oo="customer/UNLOAD_CUSTOMER",jo=Object(W.a)(go,(function(e){return e})),Eo=Object(W.a)(Oo),ho=ee(go,(function(e){return J.get("/api/customers/".concat(e))}));function yo(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(H.d)(go,ho);case 2:case"end":return e.stop()}}),mo)}var xo={customer:null,error:null},wo=Object(G.a)((oo={},Object(U.a)(oo,po,(function(e,n){var t=n.payload;return Object(z.a)(Object(z.a)({},e),{},{customer:t})})),Object(U.a)(oo,vo,(function(e,n){var t=n.payload;return Object(z.a)(Object(z.a)({},e),{},{error:t})})),Object(U.a)(oo,Oo,(function(){return xo})),oo),xo);function ko(){var e=Object(l.a)(["\n  margin-bottom : 1.5rem;\n  font-size: 1.3125rem;\n  color: ",";\n"]);return ko=function(){return e},e}function Co(){var e=Object(l.a)(["\n  border-bottom: 1px solid ",";\n  padding-bottom: 3rem;\n  margin-bottom: 3rem;\n  h1 {\n    font-size: 3rem;\n    line-height: 1.5;\n    margin: 0;\n  }\n"]);return Co=function(){return e},e}function So(){var e=Object(l.a)(["\n  margin-top: 4rem;\n"]);return So=function(){return e},e}var Io=Object(s.b)(g)(So()),To=s.b.div(Co(),p.gray[2]),Po=s.b.div(ko(),p.gray[8]),No=function(e){var n=e.customer,t=e.error,r=e.loading,o=e.actionButtons;e.ownCustomer;if(t)return t.response&&404===t.response.status?a.a.createElement(Io,null,"\uc874\uc7ac\ud558\uc9c0 \uc54a\ub294 \ud3ec\uc2a4\ud2b8\uc785\ub2c8\ub2e4."):a.a.createElement(Io,null,"\uc624\ub958 \ubc1c\uc0dd!");if(r||!n)return null;var c=n.name,u=n.contactNumber,i=n.address,l=n.advancedPayment,s=n.user,m=n.publishedDate,b=n.extra;return a.a.createElement(Io,null,a.a.createElement(Jt.a,null,a.a.createElement("title",null,c," - WINEUS")),a.a.createElement(To,null,a.a.createElement("h1",null,c),a.a.createElement(we,{username:s.username,publishedDate:m,hasMarginTop:!0}),a.a.createElement(Se,{tags:b}),"\uc8fc\uc18c : ",a.a.createElement(Po,{dangerouslySetInnerHTML:{__html:i}}),"\uc5f0\ub77d\ucc98 : ",a.a.createElement(Po,{dangerouslySetInnerHTML:{__html:u}}),"\ub0a8\uc740 \uc120\uae09\uae08 : ",l),o)},Ro=function(e){var n=e.visible,t=e.onConfirm,r=e.onCancel;return a.a.createElement(hr,{visible:n,title:"\uace0\uac1d \uc0ad\uc81c",description:"\uace0\uac1d\uc744 \uc815\ub9d0 \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?",confirmText:"\uc0ad\uc81c",onConfirm:t,onCancel:r})};function _o(){var e=Object(l.a)(["\n  padding: 0.25rem 0.5rem;\n  border-radius: 4px;\n  color: ",";\n  font-weight: bold;\n  border: none;\n  outline: none;\n  font-size: 0.875rem;\n  cursor: pointer;\n  &:hover {\n    background: ",";\n    color: ",";\n  }\n  & + & {\n    margin-left: 0.25rem;\n  }\n"]);return _o=function(){return e},e}function Do(){var e=Object(l.a)(["\n  display: flex;\n  justify-content: flex-end;\n  margin-bottom: 2rem;\n  margin-top: -1.5rem;\n"]);return Do=function(){return e},e}var Lo=s.b.div(Do()),Ao=s.b.button(_o(),p.gray[6],p.gray[1],p.cyan[7]),Uo=function(e){var n=e.onEdit,t=e.onRemove,o=Object(r.useState)(!1),c=Object(F.a)(o,2),u=c[0],i=c[1];return a.a.createElement(a.a.Fragment,null,a.a.createElement(Lo,null,a.a.createElement(Ao,{onClick:n},"\uc218\uc815"),a.a.createElement(Ao,{onClick:function(){i(!0)}},"\uc0ad\uc81c")),a.a.createElement(Ro,{visible:u,onConfirm:function(){i(!1),t()},onCancel:function(){i(!1)}}))},zo=Object(u.e)((function(e){var n=e.match,t=e.history,o=n.params.customerId,c=Object(i.b)(),u=Object(i.c)((function(e){var n=e.customer,t=e.loading,r=e.user;return{customer:n.customer,error:n.error,loading:t["customer/READ_CUSTOMER"],user:r.user}})),l=u.customer,s=u.error,m=u.loading,b=u.user;Object(r.useEffect)((function(){return c(jo(o)),function(){c(Eo())}}),[c,o]);var d=function(){var e=Object(Zt.a)(B.a.mark((function e(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n=o,J.delete("/api/customers/".concat(n));case 3:t.push("/"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}var n}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),f=(b&&b._id)===(l&&l.user._id);return a.a.createElement(No,{customer:l,loading:m,error:s,actionButtons:f&&a.a.createElement(Uo,{onEdit:function(){c(Ua(l)),t.push("/customerRegister")},onRemove:d})})})),Mo=function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(Oe,null),a.a.createElement(zo,null))},Bo=function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(Jt.a,null,a.a.createElement("title",null,"REACTERS")),a.a.createElement(u.a,{component:Wn,path:"/login"}),a.a.createElement(u.a,{component:Hn,path:"/register"}),a.a.createElement(u.a,{component:Qt,path:"/write"}),a.a.createElement(u.a,{component:da,path:["/@:username","/"],exact:!0}),a.a.createElement(u.a,{component:so,path:"/customerRegister"}),a.a.createElement(u.a,{component:Mo,path:"/@:username/:customerId"}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Fo(){"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}var Wo=t(20),Go=t(62),Ho=t(63),qo=B.a.mark(Jo);function Jo(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(H.a)([Cn(),pe(),yt(),or(),qe(),ra(),Fa(),yo()]);case 2:case"end":return e.stop()}}),qo)}var Qo=Object(Wo.combineReducers)({auth:In,loading:X,user:ve,write:wt,post:ur,posts:Je,customers:aa,customer:wo,register:Ga}),Zo=Object(Ho.a)(),$o=Object(Wo.createStore)(Qo,Object(Go.composeWithDevTools)(Object(Wo.applyMiddleware)(Zo)));Zo.run(Jo),function(){try{var e=localStorage.getItem("user");if(!e)return;$o.dispatch(se(e)),$o.dispatch(me())}catch(n){console.log("localStorage is not working")}}(),c.a.render(a.a.createElement(i.a,{store:$o},a.a.createElement(m.a,null,a.a.createElement(Jt.b,null,a.a.createElement(Bo,null)))),document.getElementById("root")),Fo(),Fo()},71:function(e,n,t){}},[[101,1,2]]]);
//# sourceMappingURL=main.6f9994f7.chunk.js.map